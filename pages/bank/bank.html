<!--
    bank.htmlï¼ˆéŠ€è¡Œï¼å€‰åº«é ï¼‰

    ç”¨é€”ï¼š
    - æä¾›ã€Œå€‰åº« UIã€ï¼šåŒ…å«é ç±¤ï¼ˆåˆ†é¡ï¼‰èˆ‡æ ¼å­ï¼ˆ10x10ï¼‰
    - ä½œç‚ºæœªä¾†æ”¾ç½®ç‰©å“ã€æ‹–æ›³ã€åˆ†é¡ã€æ‰¹é‡æ“ä½œçš„ç•«é¢åŸºç¤

    å½±éŸ¿ç¯„åœï¼š
    - åªå½±éŸ¿å³å´å…§å®¹å€ï¼ˆ#main-contentï¼‰é¡¯ç¤ºçš„ DOM
    - ç›®å‰é€™é çš„ inline script åªã€Œå»ºç«‹æ ¼å­ã€ï¼Œä¸æœƒæ”¹å‹• window.playerDataï¼ˆå…¨åŸŸç‹€æ…‹ï¼‰

    æ•™å­¸ï¼š
    - é€™å€‹æª”æ¡ˆæœƒè¢« main.js çš„ loadPage() å‹•æ…‹æ’å…¥ï¼Œå› æ­¤ä¸éœ€è¦å®Œæ•´çš„ <html>/<head>/<body>
    - é€™è£¡å…ˆæŠŠã€Œç•«é¢éª¨æ¶ã€åšå‡ºä¾†ï¼ŒçœŸæ­£çš„ç‰©å“è³‡æ–™èˆ‡äº’å‹•é‚è¼¯å¯å¾ŒçºŒå†æ¥
-->
<div id="inventory-page-content">
    <!--
        h2ï¼ˆé é¢æ¨™é¡Œï¼‰
        ç”¨é€”ï¼šè®“ä½¿ç”¨è€…çŸ¥é“ç›®å‰åœ¨ bank é é¢
        å½±éŸ¿ç¯„åœï¼šç´”é¡¯ç¤º
    -->
    <h2>ğŸ“¦bank</h2>

    <!--
        #bank-content-wrapperï¼ˆä¸»è¦å…§å®¹å®¹å™¨ï¼‰
        ç”¨é€”ï¼šæŠŠå€‰åº«å€å¡Šç½®ä¸­ä¸¦é™åˆ¶å¯¬åº¦
        å½±éŸ¿ç¯„åœï¼šå½±éŸ¿å€‰åº«æ•´é«”å¤§å°ï¼ˆé€é CSS width: 80vminï¼‰
    -->
    <div id="bank-content-wrapper">
        <!--
            #page-controls-containerï¼ˆé é¢æ§åˆ¶å€ï¼‰
            ç”¨é€”ï¼šæ”¾ç½®ã€Œæ‰¹é‡é¸æ“‡ã€ç­‰æ“ä½œæŒ‰éˆ•
            å½±éŸ¿ç¯„åœï¼šç›®å‰åªæœ‰ UIï¼Œå°šæœªç¶å®š JS è¡Œç‚º
        -->
        <div id="page-controls-container">
            <button class="action-button">æ‰¹é‡é¸æ“‡</button>
        </div>

        <!--
            #warehouse-containerï¼ˆå€‰åº«æ¡†æ¶ï¼‰
            ç”¨é€”ï¼šåŒ…ä½ã€Œé ç±¤åˆ—ã€èˆ‡ã€Œæ ¼å­å€ã€
            å½±éŸ¿ç¯„åœï¼šä½¿ç”¨ flex è®“é ç±¤åœ¨ä¸Šã€æ ¼å­åœ¨ä¸‹
        -->
        <div id="warehouse-container">
            <!--
                #warehouse-tabs-containerï¼ˆåˆ†é¡é ç±¤åˆ—ï¼‰
                ç”¨é€”ï¼šåˆ‡æ›åˆ†é¡ï¼ˆå…¨éƒ¨/è²´é‡/è£å‚™/æ¶ˆè€—å“ï¼‰
                å½±éŸ¿ç¯„åœï¼šç›®å‰åƒ…è¦–è¦ºï¼Œä¸å«åˆ†é¡éæ¿¾é‚è¼¯
            -->
            <div id="warehouse-tabs-container">
                <button class="tab-button active">å…¨éƒ¨</button>
                <button class="tab-button">è²´é‡</button>
                <button class="tab-button">è£å‚™</button>
                <button class="tab-button">æ¶ˆè€—å“</button>
            </div>
            <!--
                #warehouse-gridï¼ˆæ ¼å­å®¹å™¨ï¼Œä½¿ç”¨ CSS Gridï¼‰
                ç”¨é€”ï¼šå–ä»£ tableï¼Œç”¨ div + grid åš 10x10 å€‰åº«æ ¼
                å½±éŸ¿ç¯„åœï¼šå¾ŒçºŒå¯åœ¨æ¯å€‹æ ¼å­å…§æ”¾ç½®ç‰©å“åœ–ç¤º/æ•¸é‡/ç‹€æ…‹
            -->
            <div id="warehouse-grid"></div>
        </div>
    </div>
</div>

<!-- 
    å°‡ style ç§»è‡³ HTML é ‚éƒ¨æˆ–å¤–éƒ¨ CSS æª”æ˜¯å¸¸è¦‹åšæ³•ï¼Œ
    ä½†ç‚ºäº†ä¿æŒé é¢ç¨ç«‹æ€§ï¼Œæš«æ™‚å°‡å…¶ä¿ç•™åœ¨æª”æ¡ˆåº•éƒ¨ã€‚
    é€™è£¡çš„ CSS ç¶“éé‡æ§‹ä»¥è§£æ±ºå°é½Šå’Œå„²å­˜æ ¼æ¯”ä¾‹å•é¡Œã€‚
    å¦‚éœ€è¼‰å…¥ JSï¼Œè«‹ä½¿ç”¨ <script src="pages/bank/xxx.js"></script> ä»¥ç›¸å°æ–¼ index.html çš„æ­£ç¢ºè·¯å¾‘ã€‚
-->
<style>
    /*
        é€™æ®µ CSS æ˜¯ bank é é¢çš„ã€Œé é¢å…§æ¨£å¼ã€
        ç”¨é€”ï¼šè®“ bank é é¢å¯ä»¥è‡ªçµ¦è‡ªè¶³ï¼ˆä¸ä¾è³´é¡å¤– CSS æª”ï¼‰
        å½±éŸ¿ç¯„åœï¼šåªå½±éŸ¿é€™å€‹é é¢æ’å…¥å¾Œç”¢ç”Ÿçš„ DOM
    */

    #inventory-page-content h2 {
        text-align: center;
    }

    /* ä¸»è¦å…§å®¹å€å¡Šç½®ä¸­ */
    #bank-content-wrapper {
        margin: 0 auto;
        /* 
         * åœ¨é€™è£¡èª¿æ•´å€‰åº«çš„æ•´é«”å¤§å°ã€‚
         * æ•¸å­—è¶Šå¤§ï¼Œæ ¼å­å°±è¶Šå¤§ã€‚'vmin' å–®ä½æœƒæ ¹æ“šè¦–çª—è¼ƒå°çš„ä¸€é‚Šä¾†ç¸®æ”¾ã€‚
         */
        width: 80vmin; 
    }

    #page-controls-container {
        margin-bottom: 10px; /* èˆ‡ä¸‹æ–¹é ç±¤çš„é–“è· */
    }

    /* é ç±¤å®¹å™¨ */
    #warehouse-container {
        display: flex;
        flex-direction: column;
    }

    #warehouse-tabs-container {
        /* é€é flex ä½ˆå±€ï¼Œä¸å†éœ€è¦ margin-bottom hack */
        position: relative;
        z-index: 2; /* æé«˜å±¤ç´šï¼Œç¢ºä¿åœ¨è¡¨æ ¼ä¹‹ä¸Š */
        /* è®“æŒ‰éˆ•åº•éƒ¨å°é½Š */
        align-self: flex-start;
        /* ä¿®æ­£ï¼šç§»é™¤ HTML æ›è¡Œé€ æˆçš„æŒ‰éˆ•é–“éš™ */
        font-size: 0;
    }

    /* é ç±¤æŒ‰éˆ•åŸºæœ¬æ¨£å¼ */
    .tab-button {
        padding: 8px 16px;
        border: 1px solid #ccc;
        border-bottom: none; /* é è¨­ç„¡ä¸‹é‚Šæ¡† */
        border-radius: 8px 8px 0 0; /* é ‚éƒ¨åœ“è§’ */
        background-color: #f0f0f0;
        cursor: pointer;
        /* ä¿®æ­£ï¼šæ¢å¾©æŒ‰éˆ•å…§çš„å­—é«”å¤§å° */
        font-size: 1rem; /* æˆ–è€…æ‚¨å¸Œæœ›çš„ä»»ä½•å­—é«”å¤§å°ï¼Œå¦‚ 14px */
    }

    /* éå•Ÿç”¨ç‹€æ…‹çš„é ç±¤ï¼Œçœ‹èµ·ä¾†åœ¨å¾Œé¢ */
    .tab-button:not(.active) {
        background-color: #e0e0e0;
        border-color: #ccc;
    }
    .tab-button:not(.active):hover {
        background-color: #d5d5d5;
    }

    /* å•Ÿç”¨ç‹€æ…‹çš„é ç±¤ï¼Œçœ‹èµ·ä¾†èˆ‡ä¸‹æ–¹å…§å®¹å€å¡Šç›¸é€£ */
    .tab-button.active {
        background-color: #fff; /* èˆ‡è¡¨æ ¼èƒŒæ™¯åŒè‰² */
        border-color: #aaa;
        border-bottom: 1px solid #fff; /* ç”¨èˆ‡èƒŒæ™¯åŒè‰²çš„é‚Šæ¡†è“‹æ‰è¡¨æ ¼ä¸Šé‚Šæ¡† */
    }

    /* å€‰åº«ç¶²æ ¼å®¹å™¨ (å–ä»£ table) */
    #warehouse-grid {
        width: 100%; /* å¡«æ»¿çˆ¶å®¹å™¨å¯¬åº¦ */
        aspect-ratio: 1 / 1; /* å¼·åˆ¶å¯¬é«˜æ¯”ç‚º 1:1ï¼Œä½¿å…¶æˆç‚ºæ­£æ–¹å½¢ */
        
        display: grid;
        grid-template-columns: repeat(10, 1fr); /* 10 å€‹ç­‰å¯¬çš„æ¬„ */
        grid-template-rows: repeat(10, 1fr);    /* 10 å€‹ç­‰é«˜çš„åˆ— */
        
        border: 1px solid #aaa;
        background-color: #fff; /* è¨­å®šèƒŒæ™¯è‰²ä»¥æ­é… active é ç±¤ */
        position: relative;
        z-index: 1;
        margin-top: -1px; /* å°‡è¡¨æ ¼å‘ä¸Šç§»å‹• 1pxï¼Œèˆ‡é ç±¤é‚Šæ¡†é‡ç–Š */
    }

    /* å€‰åº«å„²å­˜æ ¼ */
    .grid-cell {
        border: 1px solid #ddd;
    }
</style>

<script>
    /*
        é€™æ®µ JS åªåšä¸€ä»¶äº‹ï¼šç”¢ç”Ÿ 10x10 çš„æ ¼å­ DOM

        ç”¨é€”ï¼š
        - è®“ #warehouse-grid è£¡é¢æœ‰ 100 å€‹ .grid-cell
        - å…ˆæŠŠè¦–è¦ºæ ¼å­åšå‡ºä¾†ï¼Œæ–¹ä¾¿å¾ŒçºŒæ¥ä¸Šç‰©å“è³‡æ–™èˆ‡äº’å‹•

        å½±éŸ¿ç¯„åœï¼š
        - åªæ–°å¢ DOMï¼Œä¸ä¿®æ”¹ window.playerData
        - æ¯å€‹æ ¼å­æœƒæœ‰å”¯ä¸€çš„ idï¼Œæ–¹ä¾¿æœªä¾†ç”¨ç¨‹å¼ç²¾æº–å®šä½æŸä¸€æ ¼
    */

    // å–å¾—æ ¼å­å®¹å™¨ï¼ˆwarehouse-gridï¼‰
    const grid = document.getElementById('warehouse-grid');

    // rows/colsï¼šè¨­å®šå€‰åº«çš„åˆ—æ•¸èˆ‡æ¬„æ•¸ï¼ˆ10x10ï¼‰
    const rows = 10;
    const cols = 10;
    
    // é€ä¸€å»ºç«‹ rows*cols å€‹æ ¼å­
    for (let i = 0; i < rows * cols; i++) {
        // å»ºç«‹ä¸€å€‹ div ä»£è¡¨ä¸€æ ¼
        const cell = document.createElement('div');

        // åŠ ä¸Š classï¼Œè®“ CSS èƒ½å¥—ç”¨æ ¼å­å¤–è§€
        cell.classList.add('grid-cell');

        // æ¯å€‹å„²å­˜æ ¼éƒ½æœ‰å”¯ä¸€çš„ IDï¼Œæ–¹ä¾¿éŠæˆ²é‚è¼¯ç²¾ç¢ºå®šä½
        // ç”¨é€”ï¼šæŠŠç·šæ€§ç´¢å¼• i è½‰æˆ row/col
        // å½±éŸ¿ç¯„åœï¼šå¾ŒçºŒå¯ç”¨ document.getElementById('cell-r0c0') å–å¾—ç‰¹å®šæ ¼å­
        cell.id = `cell-r${Math.floor(i / cols)}c${i % cols}`; 

        // æŠŠæ ¼å­æ”¾åˆ°å®¹å™¨è£¡
        grid.appendChild(cell);
    }
</script>
